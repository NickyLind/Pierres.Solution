@{
  Layout = "_Layout";
}
@using Pierres.Models;
@model List<Pierres.Models.Treat>;

<div class="header">Pierre's Sweet and Savory Treats</div>
<div class="subheader">Here's a list of all the treats we have to offer: </div>
@if(@Model.Count == 0)
{
  <div class="subheader">We're all out of treats. Sad face.</div>
}

<ul>
  @foreach (var treat in Model)
  {
    <li>@Html.ActionLink($"{treat.Name}", "Details", "Treats", new {id = treat.TreatId}) :
      @foreach(var flavor in treat.JoinEntities)
      {
        if (flavor.Flavor.Name != null)
        {
          <text> @Html.ActionLink($"{flavor.Flavor.Name}", "Details", "Flavors", new {id = flavor.Flavor.FlavorId}) |</text>
        }
      }
    </li>
  }
</ul>
